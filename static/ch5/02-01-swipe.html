<!DOCTYPE html>
<html>
	<head>
		<title>StarTrackr: Spot</title>

		<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta name="apple-mobile-web-app-capable" content="yes" />

		<link type="text/css" rel="stylesheet" href="../stylesheets/screen.css" media="screen"/>
		<link type="text/css" rel="stylesheet" href="../stylesheets/transitions.css" media="screen"/>
		<style type="text/css" media="screen">
			#pages {
				position: relative;
			}
			#pages > div {
				display:none;
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
			}
			#pages > div.current {
				display: block;
			}
			#header {
				position: relative;
			}
			#header .back{
				display: none;
			}
			#page-spot .back{
				display: block !important;
			}
			
			#gallery {
			    background-color: #800;
			    height: 100px;
			}
		</style>
	</head> 
	<body>
		<ul id="tab-bar">
			<li id="tab-spots">
				<a data-load="spots" href="../spots.html">
				Spots
				</a>
			</li>		 
			<li id="tab-sighting">
				<a data-load="sightings" href="../new.html">
				Add a sighting
				</a>
			</li>
			<li id="tab-stars">
				<a data-load="stars" href="../stars.html">
				Stars
				</a>
			</li>
		</ul><!-- #tab-bar -->

		<div id="header">
			<h1>Spots</h1>
			<a href="#" class="back">Back</a>
		</div><!-- #header -->

		<!-- CHANGE: added pages for container -->
		<div id="pages">
			<div id="photos" class="current">
				<!-- "Edit" content -->
				<div id="gallery">
					<div id="photo"></div>
				</div>
			</div>
		</div>

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
		<script type="text/javascript">
		if(!window.jQuery){
			document.write(unescape('%3Cscript src="../javascripts/vendor/jquery-1.5.min.js"%3E%3C/script%3E'));
		}
		</script>
		<script type="text/javascript" src="../javascripts/vendor/jquery.tmpl.min" ></script>
		<script type="text/javascript" src="../javascripts/vendor/modernizr-1.7.min.js"></script>
		<script type="text/javascript">

			// Swipe left & right
			var xStart,
				yStart;//,
			// timeStart;
			$("#gallery").bind({
				"touchstart": function(e){
					e.preventDefault();
					var touchs = e.originalEvent.changedTouches[ 0 ]
					xStart = e.pageX && e.pageX > 0 ? e.pageX : e.originalEvent.changedTouches[ 0 ].pageX;
					yStart = e.originalEvent.changedTouches[ 0 ].pageY;
					// timeStart = new Date().getTime();
				},
				"touchend": function(e){
					/*
					if(new Date().getTime() - timeStart > 500 ){
					return;
					}*/

					var newX = e.pageX && e.pageX > 0 ? e.pageX : e.originalEvent.changedTouches[ 0 ].pageX,
						newY = e.pageY && e.pageY > 0 ? e.pageY : e.originalEvent.changedTouches[ 0 ].pageY,
						diffX = newX - xStart,
						diffY = newY - yStart;
					if( Math.abs( diffX ) > 30 && Math.abs( diffY ) < 30){
						xStart = 0;
						if( diffX > 0 ){
							alert("swipe right");
						} else {
							alert("swipe left");
						}
					}
				},
				"touchmove": function(e){
					e.preventDefault();
				}
			});

		</script>
	</body>
</html>