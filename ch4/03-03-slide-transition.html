<!DOCTYPE html>
<html>
	<head>
		<title>StarTrackr: Spot</title>

		<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta name="apple-mobile-web-app-capable" content="yes" />

		<link type="text/css" rel="stylesheet" href="../stylesheets/screen.css" media="screen"/>
		<link type="text/css" rel="stylesheet" href="../stylesheets/transitions.css" media="screen"/>
		<style type="text/css" media="screen">
			#pages {
				position: relative;
			}
			#pages > div {
				display:none;
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				/* Ex 03-03-c - with opera mobile */
				-o-transition-property: -o-transform; 
				-o-transition-duration: 300ms;

				
			}
			#pages > div.current {
				display: block;
			}
			#header {
				position: relative;
			}
			#header .back{
				display: none;
			}
			#page-spot .back{
				display: block !important;
			}
			
			/* For back button ex - but original css was display:none */
			#spot-details .back {
				display: block;
			}
		</style>
	</head>
	<body>
		<ul id="tab-bar">
			<li id="tab-spots">
				<a href="#spots">
				Spots
				</a>
			</li>		 
			<li id="tab-sighting">
				<a href="#sightings">
				Add a sighting
				</a>
			</li>
			<li id="tab-stars">
				<a href="#stars">
				Stars
				</a>
			</li>
		</ul><!-- #tab-bar -->
		<div id="pages">
			<div id="spots" class="current">
				<div id="header">
					<h1>Spots</h1>
				</div>
				<div class="page-header">
					<h1>Planet Hollywood</h1>
					<span class="address">123 Fake St, Hollywood, CA</span>
					<a href="#" class="map">
						<img src="http://maps.google.com/maps/api/staticmap?zoom=14&size=65x60&maptype=roadmap&markers=size:mid%7Ccolor:red%7Chollywood+blvd+la&sensor=false"/>
					</a>
				</div>
				  <ul id="sightings-list" class="table-view table-list">
					<li>
					  <a class="avatar" href="#">
						<img src="../images/sightings/garrett.jpg" alt="">
					  </a>
					  <h2><a href="star.html">Garrett Murray</a></h2>
					  <span class="details">
						<strong class="time-ago">2 hours ago</strong>
						by
						<a href="#" class="user">makenosound</a>
					  </span>
					</li>
					<li>
					  <a class="avatar" href="#">
						<img src="../images/sightings/garrett.jpg" alt="">
					  </a>
					  <h2><a href="star.html">Garrett Murray</a></h2>
					  <span class="details">
						<strong class="time-ago">2 hours ago</strong>
						by
						<a href="#" class="user">makenosound</a>
					  </span>
					</li>
				  </ul><!-- #spots-list -->
			</div>
			<div id="spot-details">
				<!--container for details-->
				<div id="header">
					<h1>Details</h1>
					<span class="back">back</span>
				</div>
			</div>
			<div id="sightings">
				<div id="header">
					<h1>Sightings</h1>
				</div>
				<div class="page-header">
					<h1>How have you seen?!</h1>
					<span class="address">Let us know!</span>
					<a href="#" class="map">
						<img src="http://maps.google.com/maps/api/staticmap?zoom=14&size=65x60&maptype=roadmap&markers=size:mid%7Ccolor:red%7Chollywood+blvd+la&sensor=false"/>
					</a>
				</div>
			</div>
			<div id="stars">
				<div id="header">
					<h1>Stars</h1>
				</div>
			</div>
		</div>
		<div id="footer">
			<span class="site-switch">Switch to <a href="#">standard site</a></span> 
			<a href="#" class="authenticate">Log out</a>
		</div><!-- #footer -->

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
		<script type="text/javascript">
			if(!window.jQuery){
				document.write(unescape('%3Cscript src="../javascripts/vendor/jquery-1.5.min.js"%3E%3C/script%3E'));
			}
		</script>
		<script type="text/javascript" src="../javascripts/vendor/modernizr-1.7.min.js"></script>
		<script type="text/javascript">
			$(document).ready(function(){
			/*
				// Ex 03-02a - fade one way
				var fromPage = $("#spots"),
					toPage = $("#sightings");

				$("#tab-sighting a").click(function(){
					toPage
						.addClass("current fade in")
						.bind("webkitAnimationEnd", function(){
							fromPage.removeClass("current fade out");
							toPage
								.removeClass("fade in")
								.unbind("webkitAnimationEnd");
						});
					fromPage.addClass("fade out");
				});
			*/
				// Ex 03-02a - fade with function
				$("#tab-bar a").click(function(e){
					e.preventDefault();
					var nextPage = $(e.target.hash);
					transition(nextPage, "fade");
				});
				
				// Ex 03-03a - list...
				$("#sightings-list li").click(function(e){
					e.preventDefault();
					transition("#spot-details", "push");
				});
				
				$("#spot-details .back").live("click",function(){
					transition("#spots", "push", true);
				});
			});
			
			// Ex 03-03a - transition with reverse
			function transition(toPage, type, reverse){
				var toPage = $(toPage),
					fromPage = $("#pages .current"),
					reverse = reverse ? "reverse" : "";

				if(toPage.hasClass("current") || toPage === fromPage) { 
					return; 
				};
				toPage
					.addClass("current " + type + " in " + reverse)
					.one("webkitAnimationEnd", function(){
						fromPage.removeClass("current " + type + " out " + reverse);
						toPage.removeClass(type + " in " + reverse);
					});
				fromPage.addClass(type + " out " + reverse);
			}

			// Ex 03-03a - transition for opera
			function transitionOpera(toPage, type, reverse){
				var toPage = $(toPage),
					fromPage = $("#pages .current"),
					reverse = reverse ? "reverse" : "",
					onEnd = function(){
						fromPage.removeClass("current " + type + " out " + reverse);
						toPage.removeClass(type + " in " + reverse);
						callback && callback();
					};

				if(toPage.hasClass("current") || toPage === fromPage) { 
					return; 
				};
				toPage.addClass("current " + type + " in " + reverse);
				
				if(typeof WebKitTransitionEvent !== "undefined") {
					  toPage.one("webkitAnimationEnd", onEnd);
				}
				else {
					setTimeout(onEnd, 350);
				}
				fromPage.addClass(type + " out " + reverse);
			}


		</script>
  </body>
</html>